# Домашнее задание к занятию "12.3 Развертывание кластера на собственных серверах, лекция 1"
Поработав с персональным кластером, можно заняться проектами. Вам пришла задача подготовить кластер под новый проект.

## Задание 1: Описать требования к кластеру
Сначала проекту необходимо определить требуемые ресурсы. Известно, что проекту нужны база данных, система кеширования, а само приложение состоит из бекенда и фронтенда. Опишите, какие ресурсы нужны, если известно:

* База данных должна быть отказоустойчивой. Потребляет 4 ГБ ОЗУ в работе, 1 ядро. 3 копии.
* Кэш должен быть отказоустойчивый. Потребляет 4 ГБ ОЗУ в работе, 1 ядро. 3 копии.
* Фронтенд обрабатывает внешние запросы быстро, отдавая статику. Потребляет не более 50 МБ ОЗУ на каждый экземпляр, 0.2 ядра. 5 копий.
* Бекенд потребляет 600 МБ ОЗУ и по 1 ядру на копию. 10 копий.

## Как оформить ДЗ?

Выполненное домашнее задание пришлите ссылкой на .md-файл в вашем репозитории.

План расчета
1. Сначала сделайте расчет всех необходимых ресурсов.
2. Затем прикиньте количество рабочих нод, которые справятся с такой нагрузкой.
3. Добавьте к полученным цифрам запас, который учитывает выход из строя как минимум одной ноды.
4. Добавьте служебные ресурсы к нодам. Помните, что для разных типов нод требовния к ресурсам разные.
5. Рассчитайте итоговые цифры.
6. В результате должно быть указано количество нод и их параметры.

### Ресурсы для приложений:
Наименование | 1 копия | Кол-во копий | Всего | Резерв | Итого |
-------------|--------|-------------|-------|----------------|------|
**ОЗУ**
БД | 4 Гб | 3 | 12 Гб | 10% | 13,2 Гб |
Кэш | 4 Гб | 3 | 12 Гб | 10% | 13,2 Гб |
Фронт | 0,05 Гб | 5 | 0,25 Гб | 10% | 0,275 Гб |
Бэк | 0,6 Гб | 10 | 6 Гб | 10% | 6,6 Гб|
*Итого* | | | | | ~ *33 Гб* |
**ЦПУ**
БД | 1 | 3 | 3 | 10% | 3,3 |
Кэш | 1 | 3 | 3 | 10% | 3,3 |
Фронт | 0,2 | 5 | 1 | 10% | 1,1 |
Бэк | 1 | 10 | 10 | 10% | 11 |
*Итого* | | | | | ~ *19 CPU* |

Для control plane node требуется минимум 2 ядра CPU, 2 Гб ОЗУ и 50 Гб HDD, но для нормальной работы лучше увеличить количество памяти до 4 Гб.
Рекомендуется поднимать минимум 3 управляющие ноды, соответственно, поднимаем 3 виртуальных машины с данными параметрами.
Рабочих нод нужно использовать 5 штук. Для их работы необходимо по 1 ядру CPU, 1Гб ОЗУ. С учетом расчетов по ресурсам для приложений поднимаем еще 5 виртуальных машин по 8 Гб ОЗУ, 5 CPU и 100 Гб HDD.
