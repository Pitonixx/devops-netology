1. Есть скрипт:

a=1
b=2
c=a+b
d=$a+$b
e=$(($a+$b))
Какие значения переменным c,d,e будут присвоены?
Почему?
 
c будет иметь значение “a+b”, т.к. мы этой переменной присваиваем именно текст.
d будет иметь значение “1+2”, т.к. мы присваиваем текстовой переменной значение с подстановкой значений из переменных a и b
e будет иметь значение 3, т.к. знак $() вначале выражения позволяет нам посчитать значения математически и получить на выходе значение переменной а не текст.
 
2. На нашем локальном сервере упал сервис и мы написали скрипт, который постоянно проверяет его доступность, записывая дату проверок до тех пор, пока сервис не станет доступным. В скрипте допущена ошибка, из-за которой выполнение не может завершиться, при этом место на Жёстком Диске постоянно уменьшается. Что необходимо сделать, чтобы его исправить:
 
while ((1==1)
do
curl https://localhost:4757
if (($? != 0))
then
date >> curl.log
fi
done
 
В данном скрипте не закрыта скобка на математическом выражении, которое делает бесконечный цикл. Если сделать while ((1==1)) , то все должно работать.
 
3. Необходимо написать скрипт, который проверяет доступность трёх IP: 192.168.0.1, 173.194.222.113, 87.250.250.242 по 80 порту и записывает результат в файл log. Проверять доступность необходимо пять раз для каждого узла.
 
IP1 = 192.168.0.1
IP2 = 173.194.222.113
IP3 = 87.250.250.242
for (( a = 1; a <= 5; a++ ))
do
echo “attempt $a, IP $IP1: “ >> log 
curl http://$IP1:80 >> log
echo “attempt $a, IP $IP2: “ >> log 
curl http://$IP2:80 >> log
echo “attempt $a, IP $IP3: “ >> log 
curl http://$IP3:80 >> log
done
 
4. Необходимо дописать скрипт из предыдущего задания так, чтобы он выполнялся до тех пор, пока один из узлов не окажется недоступным. Если любой из узлов недоступен - IP этого узла пишется в файл error, скрипт прерывается
 
 
 
IP1 = 192.168.0.1
IP2 = 173.194.222.113
IP3 = 87.250.250.242
while ((1==1))
do
echo “attempt $a, IP $IP1: “ >> log 
curl http://$IP1:80 >> log
if (($? != 0))
 then
 $? >> error
 fi
done
echo “attempt $a, IP $IP2: “ >> log 
curl http://$IP2:80 >> log
if (($? != 0))
 then
 $? >> error
 fi
done

echo “attempt $a, IP $IP3: “ >> log 
curl http://$IP3:80 >> log
if (($? != 0))
 then
 $? >> error
 fi
done 
done
 
